version: "3.3"
services:
  heimdall:
    image: lscr.io/linuxserver/heimdall:latest
    restart: unless-stopped
    container_name: heimdall
    networks:
      - web
    environment:
      - PGID={{ ansible_user_uid }}
      - PUID={{ ansible_user_gid }}
      - TZ=Europe/Brussels
    labels:
      - traefik.enable=true
      - traefik.http.routers.heimdall.entryPoints=websecure
      - traefik.http.routers.heimdall.rule=Host(`dash.{{ ansible_fqdn }}`)
    volumes:
      - "/mnt/storage/backup/heimdall:/config"
networks:
  web:
    external: true
